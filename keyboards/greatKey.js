const { Telegraf, Markup, Scenes, session } = require('telegraf');
const bot = require('../config/config');
const { searchCommand } = require('./searchKey');
// const { genderCommand } = require('./searchKey');


const startCommand = async (ctx) => {
    console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—É—Å—Ç–∏–ª –±–æ—Ç–∞');
    try {
        ctx.session = {}; // –û–±–Ω—É–ª—è–µ–º –≤—Å—é —Å–µ—Å—Å–∏—é
        // –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ–±–Ω—É–ª–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏:
        ctx.session.genderChoice = null;
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π –∏ —Ç–µ–∫—Å—Ç–æ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
        const imageUrl = 'https://raw.githubusercontent.com/ospreystudio/photo-gallery/main/logo.jpg';
        await ctx.replyWithPhoto({ url: imageUrl });

        // –ó–∞—Ç–µ–º –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
        await ctx.reply("–ü—Ä–∏–≤–µ—Ç, –¥—Ä—É–∑—å—è! üí´\n\n–í–∞—Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –±–æ—Ç –∑–Ω–∞–∫–æ–º—Å—Ç–≤ Hummingbird üíü\n\n–ï—Å–ª–∏ –í–∞–º —É–∂–µ 18 –ª–µ—Ç –∏–ª–∏ –±–æ–ª—å—à–µ, —Ç–æ –Ω–∞—á–∏–Ω–∞–π—Ç–µ –∑–∞–ø–æ–ª–Ω—è—Ç—å –∞–Ω–∫–µ—Ç—É –∏ –∑–∞–≤–æ–¥–∏—Ç—å –Ω–æ–≤—ã—Ö –¥—Ä—É–∑–µ–π! üîû\n\n–í–Ω–∏–º–∞–Ω–∏–µ! ‚ö†Ô∏è\n\n–ï—Å–ª–∏ –≤–æ –≤—Ä–µ–º—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∞–Ω–∫–µ—Ç —É –≤–∞—Å —Å–ª—É—á–∏—Ç—å—Å—è –±–∞–≥ –∏–ª–∏ –±–æ—Ç –∑–∞–≤–∏—Å–Ω–µ—Ç, —Ç–æ –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –∫–æ–º–∞–Ω–¥–æ–π /start üöÄ",
            Markup.inlineKeyboard([
                Markup.button.callback('–ó–ê–ü–û–õ–ù–ò–¢–ï –ê–ù–ö–ï–¢–£ üöÄ', 'fill_form'), // –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞
            ])
        );
    } catch (error) {
        console.error('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞:', error);
        ctx.reply('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è.');
    }
};


bot.action('fill_form', searchCommand);


module.exports = { startCommand };